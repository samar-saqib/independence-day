<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Independence Day — Heroes of India</title>
  <meta name="description" content="Celebrate India's heroes — Poster stories, Read More, Tiranga celebration popup with fireworks."/>
  <style>
    :root{
      --saffron:#ff8a33; --white:#ffffff; --green:#138808; --navy:#072047; --muted:#475569;
      --bg: linear-gradient(180deg, rgba(255,138,51,0.06), rgba(255,255,255,0.00), rgba(31,166,74,0.04));
      --maxw:1100px; --card-radius:12px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;background:var(--bg);color:#0f172a;-webkit-font-smoothing:antialiased;}
    a{color:inherit;text-decoration:none}
    img{display:block;max-width:100%}

    /* TOP BANNER - now FULL WIDTH visible and solid */
    .top-banner-outer{position:sticky;top:0;z-index:1600;width:100%;background:linear-gradient(90deg,var(--saffron),var(--white),var(--green));box-shadow:0 12px 36px rgba(10,36,88,0.06)}
    .top-banner{max-width:var(--maxw);margin:0 auto;display:flex;align-items:center;gap:12px;justify-content:center;padding:10px 14px}
    .top-banner img{height:44px;flex:0 0 auto;border-radius:6px}
    .top-banner h1{margin:0;font-size:18px;font-weight:800;color:var(--navy)}

    .container{max-width:var(--maxw);margin:18px auto;padding:0 14px}

    .worthy{background:var(--white);padding:14px;border-radius:var(--card-radius);box-shadow:0 18px 40px rgba(10,36,88,0.06);border:1px solid rgba(0,0,0,0.04)}
    .flag-banner{width:100%;max-height:220px;overflow:hidden;border-radius:10px;margin:12px 0}
    .quotes{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px}
    .quote{background:#fff;padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.04);font-weight:700;color:var(--navy)}
    .policy{margin-top:12px;background:#fff;padding:12px;border-radius:10px;border:1px solid rgba(0,0,0,0.04)}

    .lang-toggle{position:fixed;top:14px;right:14px;z-index:1700}
    .lang-toggle button{background:#fff;border-radius:10px;padding:8px 12px;border:1px solid rgba(0,0,0,0.06);cursor:pointer;font-weight:700;box-shadow:0 8px 24px rgba(10,36,88,0.06)}

    .section-title{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:18px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;margin-top:12px}
    .card{background:var(--white);padding:12px;border-radius:12px;border:1px solid rgba(0,0,0,0.04);box-shadow:0 12px 30px rgba(10,36,88,0.06);display:flex;flex-direction:column;min-height:320px;position:relative}
    .poster{height:160px;border-radius:10px;overflow:hidden;background:#f3f4f6}
    .poster img{width:100%;height:100%;object-fit:cover}
    .card h3{margin:10px 0 8px 0;font-size:18px;color:var(--navy)}
    .card p.short{margin:0;color:var(--muted);flex:1;font-weight:700;line-height:1.45}
    .actions{margin-top:12px;display:flex;gap:8px;align-items:center}
    .btn{padding:8px 12px;border-radius:10px;border:0;cursor:pointer;font-weight:800}
    .btn-read{background:linear-gradient(90deg,var(--saffron),var(--green));color:#fff}
    .btn-share{background:#fff;border:1px solid rgba(0,0,0,0.06);color:var(--navy)}

    .banner-ad{background:#fff;padding:12px;border-radius:10px;text-align:center;border:1px solid rgba(0,0,0,0.04);box-shadow:0 10px 30px rgba(10,36,88,0.04);cursor:pointer}

    .footer-ad{margin-top:22px;padding:14px;text-align:center;background:#fff;border-radius:10px;border:1px solid rgba(0,0,0,0.04);box-shadow:0 10px 40px rgba(10,36,88,0.04)}

    /* overlays */
    .overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:2400}
    .popup{background:var(--navy);color:#fff;padding:18px;border-radius:12px;max-width:820px;width:92%;text-align:center;box-shadow:0 30px 80px rgba(0,0,0,0.5)}
    .popup h2{margin:6px 0 8px 0}
    .popup p{margin:0 0 6px 0}
    .popup .popup-actions{display:flex;gap:10px;justify-content:center;margin-top:12px}
    .popup .btn-share{background:linear-gradient(90deg,var(--saffron),var(--green));color:#fff}
    .popup .btn-close{background:#fff;color:var(--navy)}

    canvas.fireworks{position:fixed;inset:0;pointer-events:none;z-index:2300}

    .top-small-ad{position:fixed;top:72px;right:18px;background:#fff;padding:12px;border-radius:10px;box-shadow:0 20px 60px rgba(0,0,0,0.18);z-index:2500;display:none}
    .top-small-ad button{margin-top:8px}

    @media (max-width:720px){
      .poster{height:130px}
      .lang-toggle{top:10px;right:10px}
      .top-banner{padding:8px}
      .popup{padding:14px}
    }
  </style>
</head>
<body>

  <!-- language toggle -->
  <div class="lang-toggle"><button id="langBtn" aria-pressed="false">हिंदी</button></div>

  <!-- TOP BANNER full width -->
  <div class="top-banner-outer" role="banner" aria-label="Tiranga banner">
    <div class="top-banner">
      <img src="https://upload.wikimedia.org/wikipedia/en/4/41/Flag_of_India.svg" alt="Indian flag" />
      <h1>स्वतंत्रता दिवस — Heroes of India</h1>
    </div>
  </div>

  <div class="container">
    <section class="worthy" aria-labelledby="worthyTitle">
      <div class="head"><h2 id="worthyTitle">Worthy Words — भारत के प्रेरणादायक शब्द</h2></div>
      <div class="flag-banner"><img src="https://upload.wikimedia.org/wikipedia/en/4/41/Flag_of_India.svg" alt="Indian flag banner"></div>
      <div class="quotes" aria-live="polite">
        <div class="quote">“Swaraj is my birthright and I shall have it.” — Bal Gangadhar Tilak</div>
        <div class="quote">“You must be the change you wish to see in the world.” — M. K. Gandhi</div>
        <div class="quote">“Give me blood and I will give you freedom!” — Subhas Chandra Bose</div>
        <div class="quote">“Inquilab Zindabad.” — molana Hasrat Mohani</div>
        <div class="quote">“Jai Jawan, Jai Kisan.” — Lal Bahadur Shastri</div>
      </div>
      <div class="policy" aria-label="Nation building">
        <h3>भारत को समृद्ध और न्यायपूर्ण राष्ट्र कैसे बनाएं</h3>
        <p><strong>संविधान का अधिकार:</strong> संविधान: भारत को संपूर्ण संप्रभुत्व संपन्न, सामाजिक, धर्म निरपेक्ष सामाजिक आर्थिक,राजनीतिक न्याय, विचार,विश्वाश ,धर्म ,प्रतिष्ठा उपासना एवं बोलने की अभिव्यक्ति 
इसके लिए समस्त नागरिकों को अपने कर्तव्यों, अधिकारों और सामाजिक न्याय के लिए एकीकृत होकर अपने राष्ट्र की चहुमुखी विकास के लिए अपना योगदान देना होगा!
भारत एक लोकतांत्रिक गणराज्य है और समस्त नागरिकों की जिम्मेवारी है।  क्योंकि किसी भी राष्ट्र की चहुमुखी विकास उनकी सफलता, सामाजिक समृद्धि व अच्छी आर्थिक स्थिति वहां के शासकों की योग्यता पर निर्भर करती हैं।
इसलिए समस्त नागरिकों का कर्तव्य है कि वे अपने राष्ट्र की उन्नति के लिए संविधान जो हमें वोट देने का अधिकार दिया है उस अधिकार को सोच समझकर अपना वोट देकर एक शिक्षित एवं सुयोग्य प्रतिनिधि को अपने राष्ट्र हित के लिये चुने</p>
        <p><strong>शिक्षा:</strong> बच्चों को वही रटाई वाला सिस्टम न पढ़ाया जाए।
पढ़ाई में प्रैक्टिकल और असली ज़िंदगी से जुड़ी चीज़ें हों — जैसे बैंक का काम, बिज़नेस शुरू करना, खेती में नई तकनीक, डिजिटल स्किल्स आदि।
          स्किल डेवलपमेंट पर ज़ोर देना
हर बच्चा 12वीं पास होते-होते एक हुनर सीख ले — जैसे कोडिंग, मशीन रिपेयर, डिज़ाइनिंग, या फिर किसी ट्रेड का काम।
ताकि अगर नौकरी न भी मिले तो खुद का काम शुरू कर सके।
          शिक्षकों की ट्रेनिंग और गुणवत्ता सुधार
शिक्षक को नई तकनीक और नए पढ़ाने के तरीके सिखाए जाएं।
सिर्फ डिग्री से नहीं, बल्कि उनके पढ़ाने की क्षमता के आधार पर भर्ती हो।
          सरकारी और प्राइवेट स्कूलों में बराबरी का स्तर
सरकारी स्कूलों में भी वही सुविधाएँ हों जो बड़े प्राइवेट स्कूलों में हैं — लैब, लाइब्रेरी, कंप्यूटर, इंटरनेट, साफ़-सफाई।
          भाषा की बाधा हटाना
बच्चों को अपनी मातृभाषा में मजबूत शिक्षा मिले, साथ ही अंग्रेज़ी और दूसरी भाषाओं में भी दक्षता दी जाए।
ताकि वे दुनिया भर में काम कर सकें!
        एथिक्स और लाइफ स्किल्स की पढ़ाई
ईमानदारी, टीमवर्क, समय प्रबंधन, मानसिक स्वास्थ्य और समाज सेवा जैसे विषय भी पढ़ाए जाएं।
         इंडस्ट्री और शिक्षा का सीधा जुड़ाव
कॉलेज और कंपनियों के बीच साझेदारी हो ताकि बच्चों को पढ़ाई के साथ इंटर्नशिप और ट्रेनिंग का मौका मिले।
अगर ऐसा सिस्टम लागू हो गया, तो हम भारत में पढ़ाई सिर्फ डिग्री लेने के लिए नहीं, बल्कि ज़िंदगी बनाने के लिए करेंगे — और यही देश को सम्पन्न बनाएगा।</p>
        <p><strong>न्याय और सुरक्षा:</strong> डिजिटल न्याय प्रणाली, भारत लोकतंत्रात्मक गणराज्य हैं यहां समस्त नागरिकों को  जाति विशेष  ,धार्मिक पहचान,और ऊंच - नीच  का भेद - भाव किए  बिना एक सामान  न्याय प्रदान कराना। सामुदायिक पुलिसिंग और सेना के आधुनिकीकरण पर ध्यान देना जिला अधिकारी को चाहिए कि स्थानीय पुलिस पर नजर बनाए रखना ताकि कोई भ्रष्ट कामों मे लिप्त न हो, अपराधियो को भारतीय न्याय व्यवस्था के तहत उसको सजा देना।
बढ़ते अपराध को रोकना।</p>
      </div>
    </section>

    <!-- Pre-1947 -->
    <section aria-labelledby="preTitle">
      <div class="section-title"><h2 id="preTitle">Freedom Fighters (Pre-1947) — Poster Stories</h2></div>
      <div id="preGrid" class="grid" aria-live="polite"></div>
    </section>

    <!-- Post-1947 -->
    <section aria-labelledby="postTitle">
      <div class="section-title"><h2 id="postTitle">Heroes (Post-1947) — Poster Stories</h2></div>
      <div id="postGrid" class="grid" aria-live="polite"></div>
    </section>

    <div class="footer-ad" role="contentinfo" aria-label="Footer Advertisement"><strong>Footer Banner Ad</strong> — place ad code here.</div>

    <div style="display:flex;justify-content:center;gap:8px;margin:18px 0">
      <button id="shareSite" class="btn btn-share">Share This Page</button>
    </div>
  </div>

  <!-- top small ad -->
  <div id="topAd" class="top-small-ad" role="dialog" aria-label="Top Advertisement">
    <div><strong>Advertisement</strong></div>
    <div style="margin-top:8px">Your ad here</div>
    <div><button id="closeTopAd" class="btn">Close Ad</button></div>
  </div>

  <!-- celebration overlay -->
  <div id="celeOverlay" class="overlay" aria-hidden="true">
    <div class="popup" role="dialog" aria-labelledby="celeTitle">
      <h2 id="celeTitle">🎉 बधाई हो! हम 78 वर्षों की स्वतंत्रता का उत्सव मना रहे हैं! | 🎉 Congratulations! We Celebrate 78 Years Of Independence</h2>
      <p id="celeNote">Tap / Click "Celebrate" to see tri-color fireworks — then share if you want.</p>
      <div class="popup-actions">
        <button id="celebrateBtn" class="btn btn-share" aria-label="Celebrate">Celebrate</button>
        <button id="celeClose" class="btn btn-close" aria-label="Close">Close</button>
      </div>
    </div>
  </div>

  <!-- ad overlay for scroll-trigger -->
  <div id="adOverlay" class="overlay" aria-hidden="true">
    <div class="popup" role="dialog" aria-labelledby="adTitle">
      <h2 id="adTitle">Sponsored</h2>
      <p>This is an ad placeholder — replace with your ad code or image.</p>
      <div class="popup-actions"><button id="closeAdBtn" class="btn btn-close">Close Ad</button></div>
    </div>
  </div>

  <!-- fireworks canvas -->
  <canvas id="fwCanvas" class="fireworks" aria-hidden="true"></canvas>

  <script>
  /* ===== HERO DATA (same as earlier) ===== */
  const PRE = [
    {name:'Bal Gangadhar Tilak', img:'https://upload.wikimedia.org/wikipedia/commons/4/44/Bal_Gangadhar_Tilak.jpg', wiki:'https://en.wikipedia.org/wiki/Bal_Gangadhar_Tilak', short:'“Swaraj is my birthright” — स्वतंत्रता आंदोलन के प्रारम्भिक नेता।'},
    {name:'Dadabhai Naoroji', img:'https://upload.wikimedia.org/wikipedia/commons/0/05/DadabhaiNaoroji.jpg', wiki:'https://en.wikipedia.org/wiki/Dadabhai_Naoroji', short:'पहले भारतीय सांसद; आर्थिक शोषण पर आवाज।'},
    {name:'Lala Lajpat Rai', img:'https://upload.wikimedia.org/wikipedia/commons/6/64/Lala_Lajpat_Rai.jpg', wiki:'https://en.wikipedia.org/wiki/Lala_Lajpat_Rai', short:'वीर और सामाजिक सुधारक।'},
    {name:'Bipin Chandra Pal', img:'https://upload.wikimedia.org/wikipedia/commons/6/6b/Bipinchandrapal.jpg', wiki:'https://en.wikipedia.org/wiki/Bipin_Chandra_Pal', short:'तेज़-तर्रार वक्ता; स्वदेशी का समर्थक।'},
    {name:'Annie Besant', img:'https://upload.wikimedia.org/wikipedia/commons/3/3a/AnnieBesant1909.jpeg', wiki:'https://en.wikipedia.org/wiki/Annie_Besant', short:'Home Rule leader; शिक्षा की वकालत।'},
    {name:'Rani Lakshmibai', img:'https://upload.wikimedia.org/wikipedia/commons/0/0c/Rani_Laxmibai_of_Jhansi.jpg', wiki:'https://en.wikipedia.org/wiki/Rani_of_Jhansi', short:'1857 की वीरांगना; साहस का प्रतीक।'},
    {name:'Tantia Tope', img:'https://upload.wikimedia.org/wikipedia/commons/7/7b/Tantia_Tope.jpg', wiki:'https://en.wikipedia.org/wiki/Tantia_Tope', short:'रणनीतिक योद्धा—1857 के नायक।'},
    {name:'Rash Behari Bose', img:'https://upload.wikimedia.org/wikipedia/commons/0/0b/Rash_Behari_Bose.jpg', wiki:'https://en.wikipedia.org/wiki/Rash_Behari_Bose', short:'क्रांतिकारी संगठन का सूत्रधार।'},
    {name:'Bhagat Singh', img:'https://upload.wikimedia.org/wikipedia/commons/0/0e/Bhagat_Singh_1929.jpg', wiki:'https://en.wikipedia.org/wiki/Bhagat_Singh', short:'युवा क्रांतिकारी; बलिदान का प्रतीक।'},
    {name:'Sukhdev Thapar', img:'https://upload.wikimedia.org/wikipedia/commons/2/2b/Sukhdev_Thapar.jpg', wiki:'https://en.wikipedia.org/wiki/Sukhdev_Thapar', short:'भगत सिंह के साथ क्रांतिकारी सहयोगी।'},
    {name:'Chandra Shekhar Azad', img:'https://upload.wikimedia.org/wikipedia/commons/3/35/Chandra_Shekhar_Azad.jpg', wiki:'https://en.wikipedia.org/wiki/Chandra_Shekhar_Azad', short:'अटल स्वतंत्रता सेनानी — निडर।'},
    {name:'Ashfaqulla Khan', img:'https://upload.wikimedia.org/wikipedia/commons/0/08/Ashfaqullah_Khan.jpg', wiki:'https://en.wikipedia.org/wiki/Ashfaqullah_Khan', short:'एकता और पराक्रम के प्रतीक।'},
    {name:'Udham Singh', img:'https://upload.wikimedia.org/wikipedia/commons/4/4a/Udham_Singh.jpg', wiki:'https://en.wikipedia.org/wiki/Udham_Singh', short:'जालियाँवाला बाग का प्रतिरोध।'},
    {name:'Gopal Krishna Gokhale', img:'https://upload.wikimedia.org/wikipedia/commons/7/7a/Gokhale%2C_Gopal_Krishna.jpg', wiki:'https://en.wikipedia.org/wiki/Gopal_Krishna_Gokhale', short:'सुधारवादी नेता; शिक्षा सजग।'},
    {name:'Kasturba Gandhi', img:'https://upload.wikimedia.org/wikipedia/commons/3/37/Kasturba_Gandhi.jpg', wiki:'https://en.wikipedia.org/wiki/Kasturba_Gandhi', short:'गाँधी जी की साथी; समाज सेवा में सक्रिय।'},
    {name:'Surendranath Banerjee', img:'https://upload.wikimedia.org/wikipedia/commons/6/68/Surendranath_Banerjee.jpg', wiki:'https://en.wikipedia.org/wiki/Surendranath_Banerjee', short:'राष्ट्र जागरण के अग्रदूत।'},
    {name:'Gopal Hari Deshmukh', img:'https://upload.wikimedia.org/wikipedia/commons/5/5e/Gopal_Hari_Deshmukh.jpg', wiki:'https://en.wikipedia.org/wiki/Gopal_Hari_Deshmukh', short:'समाज सुधारक और विचारक।'},
    {name:'Begum Hazrat Mahal', img:'https://upload.wikimedia.org/wikipedia/commons/0/09/Begum_Hazrat_Mahal.jpg', wiki:'https://en.wikipedia.org/wiki/Begum_Hazrat_Mahal', short:'1857 की स्वतंत्रता सेनानी।'},
    {name:'Rani Gaidinliu', img:'https://upload.wikimedia.org/wikipedia/commons/8/86/Rani_Gaidinliu.jpg', wiki:'https://en.wikipedia.org/wiki/Rani_Gaidinliu', short:'North-East resistance leader.'},
    {name:'Balwant Rai Mehta', img:'https://upload.wikimedia.org/wikipedia/commons/1/10/Balwantrai_Mehta.jpg', wiki:'https://en.wikipedia.org/wiki/Balwantrai_Mehta', short:'पंचायती राज के समर्थक; ग्रामीण विकास।'},
    {name:'Rashbehari Ghosh', img:'https://upload.wikimedia.org/wikipedia/commons/3/3c/Rashbehari_Ghosh.jpg', wiki:'https://en.wikipedia.org/wiki/Rashbehari_Ghosh', short:'कानूनी व सामाजिक सुधारों के लिए प्रसिद्ध।'},
    {name:'Allama Iqbal', img:'https://upload.wikimedia.org/wikipedia/commons/2/28/Allama_Iqbal.jpg', wiki:'https://en.wikipedia.org/wiki/Muhammad_Iqbal', short:'शायर व विचारक—सांस्कृतिक योगदान।'},
    {name:'Mirza Ghulam Ahmad', img:'https://upload.wikimedia.org/wikipedia/commons/2/2d/Mirza_Ghulam_Ahmad.jpg', wiki:'https://en.wikipedia.org/wiki/Mirza_Ghulam_Ahmad', short:'धार्मिक विचारक; सामाजिक योगदान।'},
    {name:'Khan Abdul Ghaffar Khan', img:'https://upload.wikimedia.org/wikipedia/commons/4/43/Bacha_Khan.png', wiki:'https://en.wikipedia.org/wiki/Khan_Abdul_Ghaffar_Khan', short:'Frontier Gandhi — अहिंसा के प्रवक्ता।'}
  ];

  const POST = [
    {name:'A. P. J. Abdul Kalam', img:'https://upload.wikimedia.org/wikipedia/commons/d/d2/A._P._J._Abdul_Kalam.jpg', wiki:'https://en.wikipedia.org/wiki/A._P._J._Abdul_Kalam', short:'राष्ट्रपति और Missile Man — युवाओं के प्रेरक।'},
    {name:'Vikram Sarabhai', img:'https://upload.wikimedia.org/wikipedia/commons/7/70/Vikram_Sarabhai.jpg', wiki:'https://en.wikipedia.org/wiki/Vikram_Sarabhai', short:'ISRO के पितामह; अंतरिक्ष का विकास।'},
    {name:'Rakesh Sharma', img:'https://upload.wikimedia.org/wikipedia/commons/9/9a/Rakesh_Sharm.jpg', wiki:'https://en.wikipedia.org/wiki/Rakesh_Sharm', short:'पहला भारतीय अंतरिक्ष यात्री; राष्ट्रीय गौरव।'},
    {name:'Kalpana Chawla', img:'https://upload.wikimedia.org/wikipedia/commons/3/33/Kalpana_Chawla.jpg', wiki:'https://en.wikipedia.org/wiki/Kalpana_Chawla', short:'अंतरिक्ष में महिला प्रेरक।'},
    {name:'Sam Manekshaw', img:'https://upload.wikimedia.org/wikipedia/commons/8/81/Sam_Manekshaw.jpg', wiki:'https://en.wikipedia.org/wiki/Sam_Manekshaw', short:'फील्ड मार्शल; रणनीतिक नेता।'},
    {name:'Vikram Batra', img:'https://upload.wikimedia.org/wikipedia/commons/4/4e/Vikram_Batra.jpg', wiki:'https://en.wikipedia.org/wiki/Vikram_Batra', short:'कारगिल का बहादुर नायक।'},
    {name:'Sandeep Unnikrishnan', img:'https://upload.wikimedia.org/wikipedia/commons/1/12/Sandeep_Unnikrishnan.jpg', wiki:'https://en.wikipedia.org/wiki/Sandeep_Unnikrishnan', short:'नागरिकों की रक्षा में शूरवीर।'},
    {name:'Neerja Bhanot', img:'https://upload.wikimedia.org/wikipedia/commons/0/05/Neerja_Bhanot.jpg', wiki:'https://en.wikipedia.org/wiki/Neerja_Bhanot', short:'विमान में यात्रियों की रक्षक heroine।'},
    {name:'Vijay Hazare', img:'https://upload.wikimedia.org/wikipedia/commons/5/5c/Vijay_Hazare.jpg', wiki:'https://en.wikipedia.org/wiki/Vijay_Hazare', short:'खेलों में उत्कृष्टता का उदाहरण।'},
    {name:'M. S. Swaminathan', img:'https://upload.wikimedia.org/wikipedia/commons/2/2a/M.S._Swaminathan_1.jpg', wiki:'https://en.wikipedia.org/wiki/M._S._Swaminathan', short:'Green Revolution — कृषि का परिवर्तन।'},
    {name:'Havildar Abdul Hamid', img:'https://upload.wikimedia.org/wikipedia/commons/6/6b/Havildar_Abdul_Hamid.jpg', wiki:'https://en.wikipedia.org/wiki/Abdul_Hamid_(soldier)', short:'1965 के युद्ध के शूरवीर।'},
    {name:'B. R. Ambedkar', img:'https://upload.wikimedia.org/wikipedia/commons/9/90/B._R._Ambedkar.jpg', wiki:'https://en.wikipedia.org/wiki/B._R._Ambedkar', short:'संविधान निर्माता; सामाजिक न्याय के प्रतीक।'},
    {name:'Lal Bahadur Shastri', img:'https://upload.wikimedia.org/wikipedia/commons/5/5a/Lal_Bahadur_Shastri.jpg', wiki:'https://en.wikipedia.org/wiki/Lal_Bahadur_Shastri', short:'“Jai Jawan Jai Kisan” के प्रेरक।'},
    {name:'Mother Teresa', img:'https://upload.wikimedia.org/wikipedia/commons/d/d3/Mother_Teresa_1.jpg', wiki:'https://en.wikipedia.org/wiki/Mother_Teresa', short:'गरीबों व रोगियों की सेवा।'},
    {name:'Saina Nehwal', img:'https://upload.wikimedia.org/wikipedia/commons/6/69/Saina_Nehwal_2010.jpg', wiki:'https://en.wikipedia.org/wiki/Saina_Nehwal', short:'बैडमिंटन में उपलब्धि; युवाओं की प्रेरणा।'},
    {name:'PV Sindhu', img:'https://upload.wikimedia.org/wikipedia/commons/0/08/PV_Sindhu_at_the_2016_Rio_Olympics_%281%29.jpg', wiki:'https://en.wikipedia.org/wiki/P._V._Sindhu', short:'ओलंपिक पदक विजेता; देश का मान।'},
    {name:'Manmohan Singh', img:'https://upload.wikimedia.org/wikipedia/commons/7/79/Dr._Manmohan_Singh.jpg', wiki:'https://en.wikipedia.org/wiki/Manmohan_Singh', short:'आर्थिक सुधारों में योगदान।'},
    {name:'Prakash Padukone', img:'https://upload.wikimedia.org/wikipedia/commons/4/45/Prakash_Padukone.jpg', wiki:'https://en.wikipedia.org/wiki/Prakash_Padukone', short:'खेलों में विश्व स्तरीय प्रदर्शन।'},
    {name:'Milkha Singh', img:'https://upload.wikimedia.org/wikipedia/commons/3/31/Milkha_Singh.jpg', wiki:'https://en.wikipedia.org/wiki/Milkha_Singh', short:'Flying Sikh — ट्रैक के नायक।'},
    {name:'Kailash Satyarthi', img:'https://upload.wikimedia.org/wikipedia/commons/5/5c/Kailash_Satyarthi_Nobel_Peace_Prize_2014_2.jpg', wiki:'https://en.wikipedia.org/wiki/Kailash_Satyarthi', short:'बाल अधिकार के लिए संघर्ष।'},
    {name:'Azim Premji', img:'https://upload.wikimedia.org/wikipedia/commons/5/50/Azim_Premji.jpg', wiki:'https://en.wikipedia.org/wiki/Azim_Premji', short:'टेक इंडस्ट्री व परोपकार में योगदान।'},
    {name:'E. Sreedharan', img:'https://upload.wikimedia.org/wikipedia/commons/3/3b/E._Sreedharan.jpg', wiki:'https://en.wikipedia.org/wiki/E._Sreedharan', short:'Metro Man — सार्वजनिक परिवहन सुधारक।'},
    {name:'Arunachalam Muruganantham', img:'https://upload.wikimedia.org/wikipedia/commons/9/9a/Arunachalam_Muruganantham.jpg', wiki:'https://en.wikipedia.org/wiki/Arunachalam_Muruganantham', short:'महिला स्वास्थ्य में नवप्रवर्तन।'},
    {name:'K. R. Narayanan', img:'https://upload.wikimedia.org/wikipedia/commons/6/6d/KR_Narayanan.jpg', wiki:'https://en.wikipedia.org/wiki/K._R._Narayanan', short:'राष्ट्रपति — गरिमा और लोकतंत्र।'},
    {name:'Sushma Swaraj', img:'https://upload.wikimedia.org/wikipedia/commons/9/9d/Sushma_Swaraj.jpg', wiki:'https://en.wikipedia.org/wiki/Sushma_Swaraj', short:'विदेशों में भारत की सशक्त आवाज़।'}
  ];

  /* Build grids */
  function buildGrid(list, containerId, startIndex){
    const cont = document.getElementById(containerId);
    list.forEach((h,i)=> {
      const card = document.createElement('article');
      card.className='card';
      card.dataset.index = (startIndex||0) + i;
      if(((i+1)%6)===0) card.dataset.adTrigger = 'true';
      card.innerHTML = `
        <div class="poster"><img src="${h.img}" alt="${h.name}" loading="lazy" onerror="this.onerror=null;this.src='https://upload.wikimedia.org/wikipedia/commons/8/80/Indian_flag_map.png'"></div>
        <h3>${h.name}</h3>
        <p class="short" data-hi="${h.short}" data-en="${h.short}">${h.short}</p>
        <div class="meta">Poster story</div>
        <div class="actions">
          <button class="btn btn-read" data-wiki="${h.wiki}">Read More</button>
          <button class="btn btn-share" data-name="${encodeURIComponent(h.name)}">Share</button>
        </div>
      `;
      cont.appendChild(card);
      if(((i+1)%6)===0){
        const ad = document.createElement('div'); ad.className='banner-ad ad-placeholder';
        ad.textContent='Sponsored — Tap to view ad';
        ad.addEventListener('click', ()=> openAdPopup());
        cont.appendChild(ad);
      }
    });
  }

  buildGrid(PRE,'preGrid',0);
  buildGrid(POST,'postGrid',PRE.length);

  /* Read More & Share handlers */
  document.addEventListener('click', (e)=>{
    const read = e.target.closest('.btn-read');
    if(read){ window.open(read.dataset.wiki,'_blank','noopener'); return; }
    const share = e.target.closest('.btn-share');
    if(share){
      const name = decodeURIComponent(share.dataset.name);
      const txt = `${name} — Celebrating India's heroes. Read more: ${location.href}`;
      if(navigator.share){ navigator.share({title:name,text:txt,url:location.href}).catch(()=>{}); }
      else{ navigator.clipboard.writeText(txt).then(()=> alert('Share text copied to clipboard')); }
      return;
    }
  });

  /* Top small ad close */
  const topAd = document.getElementById('topAd');
  setTimeout(()=> topAd.style.display='block', 1200);
  document.getElementById('closeTopAd').addEventListener('click', ()=> topAd.style.display='none');

  /* Scroll-triggered ad via IntersectionObserver */
  const adOverlay = document.getElementById('adOverlay');
  const closeAdBtn = document.getElementById('closeAdBtn');
  closeAdBtn.addEventListener('click', ()=> { adOverlay.style.display='none'; adOverlay.setAttribute('aria-hidden','true'); });
  const seenAds = new Set();
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(ent=>{
      if(ent.isIntersecting){
        const el = ent.target;
        if(el.dataset.adTrigger && !seenAds.has(el.dataset.index)){
          openAdPopup();
          seenAds.add(el.dataset.index);
        }
      }
    });
  }, {threshold:0.6});
  document.querySelectorAll('.card[data-ad-trigger="true"]').forEach(c => io.observe(c));

  function openAdPopup(){
    adOverlay.style.display='flex';
    adOverlay.setAttribute('aria-hidden','false');
  }

  /* ===== Celebration popup & fireworks (fixes applied) ===== */
  const celeOverlay = document.getElementById('celeOverlay');
  const celebrateBtn = document.getElementById('celebrateBtn');
  const celeClose = document.getElementById('celeClose');
  const fwCanvas = document.getElementById('fwCanvas');
  const fwCtx = fwCanvas.getContext('2d');

  // lang state
  let lang = 'hi';
  const langBtn = document.getElementById('langBtn');
  function updatePopupText(){
    const title = document.getElementById('celeTitle');
    const note = document.getElementById('celeNote');
    if(lang==='en'){
      title.textContent = '🎉 Congratulations! We celebrate 78 years of Independence! 🇮🇳';
      note.textContent = 'Tap / Click "Celebrate" to see tri-color fireworks — then share if you want.';
      langBtn.textContent = 'EN';
      langBtn.setAttribute('aria-pressed','true');
    } else {
      title.textContent = '🎉 बधाई हो! हम 78 वर्षों की स्वतंत्रता का उत्सव मना रहे हैं! 🇮🇳';
      note.textContent = 'Tap / Click If You Want "Celebrate" ';
      langBtn.textContent = 'हिंदी';
      langBtn.setAttribute('aria-pressed','false');
    }
  }

  // toggle language -> updates hero short texts too (if separate texts exist)
  langBtn.addEventListener('click', ()=>{
    lang = (lang==='hi'?'en':'hi');
    updatePopupText();
    document.querySelectorAll('.card .short').forEach(p=>{
      p.textContent = (lang==='en') ? (p.dataset.en || p.dataset.hi) : (p.dataset.hi || p.dataset.en);
    });
  });

  // resize canvas
  function resizeCanvas(){ fwCanvas.width = window.innerWidth; fwCanvas.height = window.innerHeight; }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  // show overlay on load
  window.addEventListener('load', ()=> {
    setTimeout(()=> {
      celeOverlay.style.display = 'flex';
      celeOverlay.setAttribute('aria-hidden','false');
      updatePopupText();
    }, 600);
  });

  // Celebration: user clicks -> start fireworks, do NOT auto-share
  celebrateBtn.addEventListener('click', (ev)=>{
    ev.preventDefault();
    // start fireworks
    startFireworks();
    // show bilingual title (already updated by updatePopupText)
    // Add explicit Share button (if not already added)
    if(!document.getElementById('celeShare')){
      const shareBtn = document.createElement('button');
      shareBtn.id = 'celeShare';
      shareBtn.className = 'btn btn-share';
      shareBtn.textContent = (lang === 'en') ? 'Share' : 'साझा करें';
      shareBtn.addEventListener('click', ()=>{
        // share only on user's click — no auto-share
        const title = document.getElementById('celeTitle').textContent;
        const shareText = `${title} ${location.href}`;
        if(navigator.share){
          navigator.share({title:'Independence Day', text: shareText, url: location.href}).catch(()=>{});
        } else {
          navigator.clipboard.writeText(shareText).then(()=> alert('Share text copied to clipboard'));
        }
      });
      const actions = document.querySelector('#celeOverlay .popup-actions');
      actions.insertBefore(shareBtn, actions.firstChild);
    }
    // hide the Celebrate button to avoid double starts
    celebrateBtn.style.display = 'none';
  });

  // Close overlay -> stop fireworks and cleanup share button
  celeClose.addEventListener('click', ()=>{
    celeOverlay.style.display = 'none';
    celeOverlay.setAttribute('aria-hidden','true');
    stopFireworks();
    celebrateBtn.style.display = 'inline-block';
    const s = document.getElementById('celeShare'); if(s) s.remove();
  });

  // auto-close overlay after 8s (but do NOT auto-share)
  setTimeout(()=>{
    if(celeOverlay.style.display !== 'none'){
      celeOverlay.style.display = 'none';
      stopFireworks();
      const s = document.getElementById('celeShare'); if(s) s.remove();
      celebrateBtn.style.display = 'inline-block';
    }
  }, 8000);

  /* ---- Fireworks impl (tiranga) ---- */
  let particles = [], animId = null;
  function spawnBurst(x,y){
    const colors = ['#ff9933','#ffffff','#138808'];
    const count = 100;
    for(let i=0;i<count;i++){
      const angle = Math.random()*Math.PI*2;
      const speed = 1 + Math.random()*6;
      particles.push({
        x,y,
        vx: Math.cos(angle)*speed,
        vy: Math.sin(angle)*speed,
        life: 60 + Math.random()*60,
        age:0,
        color: colors[Math.floor(Math.random()*colors.length)],
        size: 1 + Math.random()*3
      });
    }
  }
  function startFireworks(){
    let bursts=0; const maxBursts=12;
    const interval = setInterval(()=> {
      spawnBurst(Math.random()*fwCanvas.width, Math.random()*fwCanvas.height*0.45);
      bursts++;
      if(bursts>=maxBursts) clearInterval(interval);
    }, 320);
    animate();
  }
  function animate(){
    fwCtx.clearRect(0,0,fwCanvas.width,fwCanvas.height);
    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];
      p.age++;
      p.x += p.vx;
      p.y += p.vy + 0.02*p.age;
      p.vx *= 0.99; p.vy *= 0.99;
      const alpha = Math.max(0, 1 - p.age/p.life);
      fwCtx.globalAlpha = alpha;
      fwCtx.fillStyle = p.color;
      fwCtx.beginPath();
      fwCtx.arc(p.x,p.y,p.size,0,Math.PI*2);
      fwCtx.fill();
      if(p.age > p.life) particles.splice(i,1);
    }
    fwCtx.globalAlpha = 1;
    animId = requestAnimationFrame(animate);
  }
  function stopFireworks(){
    if(animId) cancelAnimationFrame(animId);
    particles = [];
    fwCtx.clearRect(0,0,fwCanvas.width,fwCanvas.height);
  }

  /* Share whole page button */
  document.getElementById('shareSite').addEventListener('click', ()=>{
    const text = (lang==='en') ? 'Celebrating India — Independence Day Heroes' : 'भारत का जश्न — स्वतंत्रता दिवस नायक';
    if(navigator.share) navigator.share({title:'Independence Day', text, url: location.href}).catch(()=>{});
    else navigator.clipboard.writeText(text + ' ' + location.href).then(()=> alert('Link copied to clipboard'));
  });

  /* ESC closes overlays */
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape'){
      document.querySelectorAll('.overlay').forEach(o => { o.style.display='none'; o.setAttribute('aria-hidden','true'); });
      stopFireworks();
      if(topAd) topAd.style.display='none';
    }
  });

  </script>
</body>
</html>
